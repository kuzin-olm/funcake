{% extends "base.html" %}
{% load static %}

{% block title %} редактирование ингредиента{% endblock %}



{% block content %}
<br>

{% if ingredient %}
<h2 class="text-center">Ингредиент "{{ ingredient.name }}"</h2>
{% else %}
<h2 class="text-center">Новый ингредиент</h2>
{% endif %}
<br>




<form class="was-validated" method="post">{% csrf_token %}
  <div class="mb-3">
    <label for="{{ form.name.id_for_label }}" class="form-label">{{ form.name.label }}</label>
    {{ form.name }}
    <div class="invalid-feedback">
      {{ form.name.help_text }}
    </div>
    {% for error in form.name.errors %}
      <div class="text-danger"><small>{{ error|escape }}</small></div>
    {% endfor %}
  </div>

  <div class="mb-3">
    <label for="{{ form.price.id_for_label }}" class="form-label">{{ form.price.label }}</label>
    {{ form.price }}
    <div class="invalid-feedback">
      {{ form.price.help_text }}
    </div>
    {% for error in form.price.errors %}
      <div class="text-danger"><small>{{ error|escape }}</small></div>
    {% endfor %}
  </div>

  <div class="mb-3">
    <label for="{{ form.packing.id_for_label }}" class="form-label">{{ form.packing.label }}</label>
    {{ form.packing }}
    <div class="invalid-feedback">
      {{ form.packing.help_text }}
    </div>
    {% for error in form.packing.errors %}
      <div class="text-danger"><small>{{ error|escape }}</small></div>
    {% endfor %}
  </div>

  <div class="mb-3">
    <label for="{{ form.measurement.id_for_label }}" class="form-label">Ед. изм.</label>
    {{ form.measurement }}
    <div class="invalid-feedback">{{ form.measurement.help_text }}</div>
    {% for error in form.measurement.errors %}
      <div class="text-danger"><small>{{ error|escape }}</small></div>
    {% endfor %}
  </div>

  <div class="mt-5 d-grid gap-2 col-12 col-md-4 mx-auto">
    {% if ingredient %}
    <button class="btn btn-success" type="submit">Обновить</button>
    <a href="{% url "ingredients:delete" ingredient.pk %}" class="btn btn-outline-danger" onclick="return confirm('Точно удалить?');">Удалить</a>
    {% else %}
    <button class="btn btn-success" type="submit">Добавить</button>
    {% endif %}
    <a href="{% url "ingredients:list" %}" class="mt-3 btn btn-outline-primary">К списку</a>
  </div>
</form>




{% endblock content %}
